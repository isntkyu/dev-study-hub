# 하리의 this(javascript)

객체지향언어에서는 클래스로 생성한 인스턴스 객체

객체를 가리킴.

---

## this

객체는 속성과 메소드가 있음.

메소드에서 속성을 참조하려면 this(자신 인스턴스) 를 이용한다.

함수를 호출할 때 결정된다.
(실행 컨텍스트가 생성될 때)

---

## this 바인딩

this와 this가 가리킬 객체를 연결하는것.

함수 호출 방식에 의해 결정됨

- 기본 바인딩

  - 일반 함수 호출시 기본적으로 전역객체가 바인딩.
  - 엄격모드에서는 undefined 바인딩.
  - 중첩함수, 콜백함수 내부의 일반함수 호출이 이루어 져도 this는 전역 객체가 바인딩.
    - 해결법은 변수에 this 를 할당하여 일반함수호출 시 사용.
  - 전역 코드에서는 module.exports 바인딩(node.js)

- 암시적 바인딩

  - 함수를 객체 메서드로 호출.
  - . 앞의 객체에 바인딩

- new 바인딩

  - 생성자 함수 호출
  - 인스턴스가 바인딩

- 명시적 바인딩
  - apply, call, bind 메소드에 의한 바인등(prototype)
  - apply, call은 this 로 사용할 객체와 인수들을 전달받음.
  - bind는 this로 사용할 객체와 인수를 전달받지만 함수를 호출해주지 않음.(바인딩 된 함수 반환), 직접 호출해야한다.
- 명시적 바인딩이 암시적 바인딩보다 우선순위 높음
- 명시적 바인딩보다 new 바인딩이 우선순위가 높다.

new > 명시적 > 암시적 > 기본

---

## 화살표 함수에서의 this

this가 전역객체를 바라보는 문제 해결을 위해 등장 (ES6)

실행 컨텍스트 생성시 this 바인딩 하지 않음.

화살표 함수 내부의 this 는 존재하지 않음.

this 호출 시, 상위 스코프의 this에 접근 (lexical this)
교체할 수 없음.
가장 가까운 객체가 전역객체면 this가 전역을 가리킬 수도 있음.

---

## Class 에서의 this

클래스에서는 기본적으로 엄격모드가 적용되어서
인스턴스 객체로 바인딩 된다.

일반함수 호출, 선언시 this 는 undefined 가 된다.

---
