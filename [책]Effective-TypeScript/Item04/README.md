## 구조적 타이핑

#덕타이핑

... //

이해가 안가는 내용

클래스도 구조적타이핑을 따르고 인스턴스는 예상과 다를 수 있다는 내용 같음.

```ts
class C {
    foo: string;

    constructor(foo: string) {
        this.foo = foo
    }
}

const c = new C('instance of C')
const d: C = {foo: "object literal"}
console.log(d instanceof C) // false
```

클래스가 값으로 쓰이는 것과 별개로 
타입으로 쓰일 때

이 경우에는 클래스의 속성과 메소드만 포함하면 okay  
(정확히는 메소드가 **prototype chain** 상에 존재하면)

d 는 Object.prototype으로 부터 생성자도 가지고 있음

---

책 내용 중 `C 생성자에 연산로직을 넣으면 문제가 발생`한다라는 내용이 있어서 무슨 말인지 확인해보고 싶다.

아무리 고민해봐도
object literal인 d가 선언될 때는 생성자를 호출하지 않기 때문이라는 말 같다.

코드로 예시를 생각해내기가 어렵다..

그리고 c나 java에서는 클래스틑 타입으로 명시하면 값이 서브 클래스임을 보장하나보다.

아무리 생각해도 아래와 같이 이해할 수 밖에 없다.

C 의 생성자에 아무리 연산로직을 넣게 되어도 결국 foo 에 string을 할당하게 되면
d 가 C 타입을 만족한다.

결국, `d 는 생성자를 실행하지 않는다.` 라는 내용이 포인트 였던 것 같다.  
타입 체크에서는 통과하지만 구조적 타이핑으로 인해 실제 런타임에서 문제가 발생할 수 있다는 이야기 !

삽질 끝.  
이 고민 때문에 왜 구조적 타이핑이라는 아이템에 클래스가 소개되었는지,  
구조적 타이핑이 뭐고, 장단점이 뭔지 확실히 이해하게 되었다.
